# NH-futures-API-FAQ
NH선물 API 서비스 관련 자주하시는 질문입니다.


|                        질문                          |                                   답변                                   |
| ------------------------------------------------------ | -------------------------------------------------------------------------- |
| 아이디, 비번 등의 정보는 어디에 저장되어 있나요?        	 | C:\ProgramData\anaconda3\envs\py37_32(가상환경 명)\pySBAPI\pySBtrader_code 내 <br>config 구성설정 에서 ID, 비번, 인증서 비번, data_path, ocx_module_ name 확인 가능합니다.                |
| API로 국내 야간 모의거래도 할 수 있을까요?        	 | 당사는 국내선물 야간 모의거래 자체를 지원하고있지 않습니다. <br>다만, API를 통한 국내선물 야간 실거래는 지원하고 있으니 거래에 참고 부탁드립니다.                |
| API로 제로데이 옵션 거래도 할 수 있을까요?        	 | 당사는 제로데이 옵션 모의거래는 지원하고 있지 않고 실거래만 지원하고 있습니다. <br>다만, API를 통한 제로데이 옵션 거래는 해외옵션과 동일한 코드로 작동하기 때문에 해외옵션 모의거래로 테스트 진행해주시면 됩니다.<br><br>모의에서는 해외옵션으로 개발 테스트를 진행하고 실거래일 때 베타파일명을 dtcode.dat으로 바꾸어서 진행하시면 됩니다. 해당 배치 파일은 HTS가 설치되어 있는 폴더의 Data/master 에 위치합니다. <br><br>실거래 시 로그인 이후에 마스터 파일을 받아와야 하며 순서는 아래와 같습니다.<br>1. API프로그램 실행<br>2. API 프로그램 로그인<br>3. 내부적으로 master 파일 다운로드<br>4. 마스터 다운로드 완료 이벤트 발생                |
| 선물/옵션/제로데이옵션 별 마스터파일 코드 알려주세요.         	 | fu: 선물 / op: 옵션 / dt: 제로데이옵션 이렇게 구분하고 있습니다.                |
| vscode 열었을 때 인터프리터(vscode 환경설정 부분)가 안보여요.  | anaconda prompt를 관리자 권한으로 연 후 본인이 설정한 가상환경(py37_32)를 activate 해주시기 바랍니다. <br>명령어: conda activate (가상환경) <br>vscode 실행 후 Ctrl+shift+P 를 실행 후 Python: Select Interpreter 선택 후 설치한 파이썬 버전 선택            |
| 써핑보드 화면에 있는 기능을 사용하고 싶은데 어떻게 해야하나요? | 전문을 불러오는 코드는 모두 동일하오니 기존 코드를 참고해주시고 전문에 따라 in/out을 직접 구현하셔야 합니다.<br>in/out은 전문xml을 열어 내용을 참고하여 주시기 바랍니다. <br><br>전문 위치는 전문 별로 다르고 예를 들면 써핑보드 설치된 폴더(NH_Futures)의 Request 폴더에 (투자자누적데이터))sdif7173q01.xml, (투자자변동데이터)sdif7173q02.xml, (투자자직전매매동향)sdif7175q01.xml 전문의 경우 이것을 요청해서 받으셔야 합니다. 다만 각 상품별 마켓 코드는 다음과 같습니다. <br><br>g_arrMarketName = ["KOSPI", "MKOSPI", "KOSDAQ", "KOSDAQGLOBAL" "KRX300", "VKOSPI", "KOSPIWK", "KOSPIWKM", “USD", "EUR", "JPY", "CNH", "KTB" "10KTB", "5KTB", "30KTB", "K200경기소비재". "K200금융", "K200에너지", "K200정보기술", "BBIG", "2차전지TOP10", "바이오TOP10", "KRX반도체지수"]<br>g_arrMarketCode = ["01", "05", "06", "AG", "08", "04", "09", "AF", "75", "77", "76", "78", "65", "67", "66", "70", "A3", "A2", "А0", "A1", "AC", "AD", "AE", "AL"]                |
| 통합 HTS API 문서_20250515 엑셀 파일을 참고하다보니 DLL일 경우, importOpenApi.h를 참고하시기 바랍니다. 라고 적혀있는데, 해당 파일을 찾지 못하고 있습니다.  | 샘플프로그램의 MFC 동적연결방식, MFC 정적연결방식 파일에 들어있는 ImportSBOpenApi.h파일이 찾으시는 파일과 동일 파일입니다.               |
| Failed to build PyQt5-sip ERROR : Could not build wheels for pyqt5-sip which use REP 517 and cannot be installed directly<br>파이썬에 PyQt5 설치 시도 중 해당 오류가 발생하여 해결방안 알려주세요. | 해당 오류 해결방안 안내드립니다.<br><br>1. Python3.7 대신 Python3.9.x 버전으로 설치 (추천)<br>2. PyQt5를 예전버전으로 설치<br1>(pip install PyQt5==5.15.7)                |
| API 시세 수신이 유료인가요? | 네, 당사에서는 매년 각 Sub 거래소 별(CME, CBOT, NYMEX, COMEX)로 시세 수신 비용을 공지하고 있습니다.<br1>NH선물 홈페이지 공지사항을 참고하시어 거래에 참고해주시기 바랍니다.<br1><br1>다만, 개발기간에 따른 유예기간은 충분히 드리고 있으니 해당 사항은 1588-4280으로 문의주시기 바랍니다.                |
| 종목코드 어떻게 불러오나요? | API거래에 쓰이는 종목코드는 한국거래소에서 제공하는 표준 코드입니다. <br>코드의 구성은 코스피 3월물을 예로들었을 때 A(선물)01(품목)6(년도)3(월물)000(행사가)입니다. <br1>API 거래 시 사용되는 종목코드를 볼 수 있는 방법 안내해드리겠습니다. <br><br>1. 써핑보드(HTS) 환경설정 > 주문설정 > 당사코드 사용 체크 해제 > 하단 적용 버튼 클릭 > 하단 확인 버튼 클릭<br>- 주문창에서 종목코드를 확인하실 수 있습니다.<br><br>2. 한국거래소 홈페이지 참고<br1>▶ https://data.krx.co.kr/contents/MDC/MDI/mdiLoader/index.cmd?menuId=MDC0201050202#                |
| 모의 API에서 불러오는 시세는 실거래에서 불러오는 시세 데이터와 시차가 있나요? | 실거래 장비가 성능이 더 좋기 때문에 일반적으로 모의보다 리얼 서비스가 속도가 빠릅니다.                 |



|                        오류 메시지                          |                                   해결방안                                   |
| ------------------------------------------------------ | -------------------------------------------------------------------------- |
| 로그인 에러코드: 05012, 에러메세지: [05012] [NH선물 API 리얼접속 승인이 필요합니다. 문의) 1588-4280] 오류입니다. 내용을 확인하세요. (SCBS0000Q01) | 해당 오류는 리얼 접속 승인이 안 되어 있는 경우에 나타나는 오류입니다.<br>개발 후 5영업일 동안 API 모의 거래를 진행하시고 1588-4280으로 유선 연락 주시면 담당부서에서 확인 후 조치해드리겠습니다.                |
| 로그인 에러코드: 05012, 에러메세지: [05012] [비밀번호 5회 오류 초과] 오류입니다. 내용을 확인하세요. (SCBS0000Q01) | 모의거래 비밀번호 초기화는 1588-4280으로 유선 연락 주시기 바랍니다.<br>실거래 비밀번호 5회 오류는 ""홈페이지 > 온라인창구 > HTSID/비밀번호 > HTS ID 오류해제"" 에서 하실 수 있습니다.                |	
| 로그인 에러코드: 05012, 에러메세지: [05012, 에러메세지: [05012] [API를 통한 로그인이 불가한 ID입니다. 관리자에게 문의 하세요] 오류입니다. 내용을 확인하세요. (SCBS0000Q01) | 해당 오류는 API 서비스가 미신청되어 있는 경우 발생하는 오류입니다.<br>HTS [2043] API서비스사용등록 화면에서 API신청계좌내역에 계좌번호 정상 등록 여부를 먼저 확인해주시기 바랍니다. <br1>정상적으로 등록되어 있는 경우에도 해당 오류가 발생하시면 1588-4280으로 유선 연락 주시기 바랍니다.                |	

	
